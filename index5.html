<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acceso Login</title>
</head>
<body>
    <label for="user">User name</label>
    <input type="text" id="user">

    <label for="password">Password</label>
    <input type="password" id="password">

    <button id="btnLogin">Enter</button>
    <p id="result"></p>

    <script>
        // CONFIGURACIÃ“N
        const CREDENTIALS = {
            user: "admin",
            password: "1234"
        }

        const state = {
            attempts: 3,
            locked: false
        }

        // ELEMENTOS
        const userInput = document.getElementById("user")
        const passwordInput = document.getElementById("password")
        const result = document.getElementById("result")
        const button = document.getElementById("btnLogin")

        // EVENTO
        button.addEventListener("click", handleLogin)

        // FUNCIONES
        function handleLogin() {
            if (state.locked) return

            const user = userInput.value.trim()
            const password = passwordInput.value.trim()

            if (!user || !password) {
                renderMessage("All fields are required âš ï¸")
                return
            }

            if (isValid(user, password)) {
                renderMessage("Access granted âœ…")
                lockForm()
            } else {
                state.attempts--
                handleError()
            }
        }

        function isValid(user, password) {
            return user === CREDENTIALS.user && password === CREDENTIALS.password
        }

        function handleError() {
            if (state.attempts > 0) {
                renderMessage(`Incorrect data âŒ (${state.attempts} attempts left)`)
            } else {
                renderMessage("Access blocked ğŸš«")
                lockForm()
            }
        }

        function lockForm() {
            state.locked = true
            userInput.disabled = true
            passwordInput.disabled = true
            button.disabled = true
        }

        function renderMessage(message) {
            result.textContent = message
        }
    </script>
</body>
</html>